{{ define "main" }}
    <div class="posts">
        {{ range .Site.RegularPages.ByWeight }}
            {{ if eq .Type "works" }}
                <article class="post on-list">
                    <h1 class="post-title">
                        {{ .Title | markdownify }}
                    </h1>

                    {{ if .Params.video }}
                    <div style="position: relative; padding-top: 56.25%; width: 100%">
                        <iframe src="{{ .Params.video }}"
                            allow="autoplay; fullscreen; picture-in-picture; encrypted-media; gyroscope; accelerometer; clipboard-write; screen-wake-lock;"
                            frameborder="0"
                            allowfullscreen
                            style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;">
                        </iframe>
                    </div>
                    {{ end }}

                    <div class="post-content">
                        {{ .Content }}
                    </div>

                    {{ if .Params.client }}
                    <div class="post-meta">
                        <span class="client">Client: {{ .Params.client }}</span>
                    </div>
                    {{ end }}
                </article>
            {{ end }}
        {{ end }}
    </div>
{{ end }}
